<div class="users-container">
    <mat-card>
        <div fxLayout="column" fxLayoutGap="20" fxFlexAlign="start" class="users-title-container">
            <mat-card-title class="users-title" fxFlexAlign="start">{{
                isEditing ? 'Edit User' : 'Create User'
            }}</mat-card-title>
        </div>
        <mat-divider></mat-divider>

        <form *ngIf="!(isLoadingDistinctUser$ | async)" [formGroup]="form" (ngSubmit)="onSubmit()">
            <mat-card-content fxLayout="row wrap" fxLayoutAlign="start" class="users-form">
                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="Iryna"
                        class="input-field-height"
                        formControlName="firstName" />
                    <mat-error *ngIf="firstName?.errors?.['required'] && firstName?.touched"
                        >First name is required.</mat-error
                    >
                    <mat-error *ngIf="firstName?.errors?.['minlength'] && firstName?.touched"
                    >First name must contain more than 2 letters.</mat-error
                >
                </mat-form-field>
                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>Last Name</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="Ivanova"
                        class="input-field-height"
                        formControlName="lastName" />
                    <mat-error *ngIf="lastName?.errors?.['required'] && lastName?.touched"
                        >Last name is required.</mat-error
                    >
                    <mat-error *ngIf="lastName?.errors?.['minlength'] && lastName?.touched"
                    >Last name must contain more than 2 letters.</mat-error
                >
                </mat-form-field>

                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>Nickname</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="Iryna"
                        class="input-field-height"
                        formControlName="nickName" />
                    <mat-error *ngIf="nickName?.errors?.['required'] && nickName?.touched"
                        >Nick name is required.</mat-error
                    >
                    <mat-error *ngIf="nickName?.errors?.['minlength'] && nickName?.touched"
                    >Nickname must contain more than 2 letters.</mat-error
                >
                </mat-form-field>
                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>Email:</mat-label>
                    <input matInput type="email" placeholder="Iryna@com" formControlName="email" />
                    <mat-error *ngIf="email?.errors?.['required'] && email?.touched">Email is required.</mat-error>
                    <mat-error *ngIf="email?.errors?.['pattern']">Email is invalid.</mat-error>
                </mat-form-field>

                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>Phone number</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="4-(093)393-4783"
                        mask="0-(000)000-0000"
                        formControlName="phone" />
                    <mat-error *ngIf="phone?.errors?.['required'] && phone?.touched"
                        >Phone number is required.</mat-error
                    >
                </mat-form-field>

                <mat-form-field class="users-field-input" *ngIf="isEditing" appearance="outline">
                    <mat-label>User ID</mat-label>
                    <input matInput type="text" placeholder="" formControlName="userId" />
                </mat-form-field>

                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>Country</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="Ukraine"
                        class="input-field-height"
                        formControlName="country" />
                    <mat-error *ngIf="country?.errors?.['required'] && country?.touched"
                        >Country is required.</mat-error
                    >
                    <mat-error *ngIf="country?.errors?.['pattern']">Country must contain english letters.</mat-error>
                </mat-form-field>

                <mat-form-field class="users-field-input" appearance="outline">
                    <mat-label>City</mat-label>
                    <input
                        matInput
                        type="text"
                        placeholder="Kharkiv"
                        class="input-field-height"
                        formControlName="city" />
                    <mat-error *ngIf="city?.errors?.['required'] && city?.touched">City is required.</mat-error>
                    <mat-error *ngIf="city?.errors?.['pattern']">City must contain english letters.</mat-error>
                </mat-form-field>
            </mat-card-content>
            <mat-divider class="users-form-divider"></mat-divider>
            <mat-card-actions class="user-button-actions" fxLayoutAlign="start">
                <button class="form-button" mat-raised-button color="primary" [disabled]="form.invalid">
                    {{ isEditing ? 'UPDATE' : 'CREATE' }}
                </button>
            </mat-card-actions>
        </form>
    </mat-card>
</div>
